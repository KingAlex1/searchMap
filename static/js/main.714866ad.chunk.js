(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports=n(238)},105:function(e,t,n){},236:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),o=n(51),c=n.n(o),i=n(99),d=n(25),u=n(26),l=n(28),m=n(27),p=n(29),f=(n(105),function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"map",className:"map"})}}]),t}(r.PureComponent)),h=n(98),v=n.n(h);window.onload=function(){ymaps.ready(function(){a=new ymaps.Map("map",{center:[55.751574,37.573856],zoom:9,controls:["zoomControl"]})})};var g,b=[],y=[],w=[];function O(e){return w=b.map(function(e){return e.coords}),g=new ymaps.Polyline(w,{strokeColor:"#000000",strokeWidth:4,strokeOpacity:.5}),e&&y.push({poliline:g,id:e}),j(),a.geoObjects.add(g),e}function j(){y.forEach(function(e){a.geoObjects.remove(e.poliline)}),a.geoObjects.remove(g)}n(236);var E=0;var k=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={addressInput:"",address:[]},n.handleChange=function(e){var t=e.target.value;n.setState({addressInput:t})},n.handleKeyDown=function(e){return new Promise(function(t){if(13===e.keyCode){var a=n.state,r=a.addressInput,s=a.address,o={text:r,id:E+=1};n.setState({addressInput:"",address:[].concat(Object(i.a)(s),[o])}),t()}}).then(function(){var e,t,r=n.state.address.slice(-1);return e=r[0].text,t=r[0].id,ymaps.geocode(e,{results:1}).then(function(e){var n=e.geoObjects.get(0);if(n){console.log("dddd");var r=n.geometry.getCoordinates(),s=n.properties.get("boundedBy");return n.options.set("preset","islands#darkBlueDotIconWithCaption"),n.properties.set("iconCaption",n.getAddressLine()),a.geoObjects.add(n),a.setBounds(s,{checkZoomRange:!0}),b.push({placemark:n,id:t,coords:r}),t}throw new Error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441")}).then(function(e){return O(e)}).catch(function(e){return alert(e.message)})}).then(function(e){e||n.setState(function(e){return{address:e.address.splice(0,e.address.length-1)}})}).catch(function(e){console.log(e.message)})},n.handleRemove=function(e){var t=e.target.previousElementSibling.getAttribute("id"),r=parseInt(t);!function(e){var t=b.filter(function(t){return t.id===e});b.forEach(function(t,n){t.id==e&&b.splice(n,1)}),w=b.map(function(e){return e.coords}),a.geoObjects.remove(t[0].placemark),j(),b.length>1&&O()}(r),n.setState(function(e){return{address:e.address.filter(function(e){return r!==e.id})}})},n.renderList=function(){var e=n.state,t=e.address;e.addressInput;return[t.map(function(e){return{content:s.a.createElement("li",{key:e.id,className:"address-item"},s.a.createElement("div",{className:"address-text",id:e.id},e.text),s.a.createElement("div",{className:"address-remove",onClick:n.handleRemove},"\xd7"))}})][0]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.address,n=e.addressInput;return s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"form-section"},s.a.createElement("div",{className:"search-section"},s.a.createElement("input",{onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:n,type:"text",name:"route",className:"input-address",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441"})),s.a.createElement("ul",{className:"address-list"},s.a.createElement(v.a,{items:this.renderList(),moveTransitionDuration:.3,type:"vertical"}))),s.a.createElement(f,{addressArr:t}))}}]),t}(r.Component);c.a.render(s.a.createElement(k,null),document.getElementById("root"))}},[[100,2,1]]]);
//# sourceMappingURL=main.714866ad.chunk.js.map